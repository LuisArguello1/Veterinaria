{% load static %}
<!-- Sidebar -->
<aside id="sidebar" class="fixed top-16 bottom-0 left-0 w-72 bg-gradient-to-b from-primary-900 to-primary-800 border-r border-primary-700 flex flex-col transform -translate-x-full transition-transform duration-300 z-40 text-white shadow-xl">
  
  <!-- Logo -->
  <div class="flex justify-center items-center py-6 bg-black border-b border-primary-700/30">
    <div class="w-56 h-auto px-2">
      <img src="{% static 'img/logo_principal.png' %}" alt="PET FACE ID" class="w-full h-auto object-contain" >
    </div>
  </div>
  
  <!-- Profile signout -->
  <div class="p-4 border-t border-primary-700/50 mt-auto">
    <div class="flex items-center space-x-3 p-3 rounded-lg bg-primary-800/50 hover:bg-primary-700/50 transition-colors">
      {% if request.user.is_authenticated %}
        <div class="w-10 h-10 bg-gradient-to-br from-secondary-400 to-secondary-600 rounded-full flex items-center justify-center shadow-md">
          <span class="text-white font-medium text-sm">{{ request.user.username|slice:":2"|upper }}</span>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-sm font-medium text-white truncate">{{ request.user.get_full_name|default:request.user.username }}</p>
          <p class="text-xs text-primary-200 truncate">{{ request.user.email|default:"" }}</p>
        </div>
      {% else %}
        <div class="w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center shadow-md">
          <i class="fas fa-user text-primary-100"></i>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-sm font-medium text-white truncate">Invitado</p>
          <p class="text-xs text-primary-200 truncate">No has iniciado sesión</p>
        </div>
      {% endif %}
      <a href="{% url 'auth:logout' %}" class="p-2 rounded-md hover:bg-primary-700 transition-colors text-primary-200 hover:text-white" title="Cerrar sesión">
        <i class="fas fa-sign-out-alt"></i>
      </a>
    </div>
  </div>

  <!-- Navegación principal -->
  <nav class="flex-1 px-4 pt-4 pb-1 overflow-y-auto">
    
    <div class="sidebar-menu custom-scrollbar space-y-1">
        <!-- Título sección -->
        <h3 class="text-xs font-semibold text-primary-300 uppercase tracking-wider px-3 mb-3">Navegación</h3>
        
        <!-- Dashboard -->
        <a href="{% url 'auth:Dashboard' %}" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-white hover:bg-primary-700 hover:text-secondary-300 transition-all duration-200 group">
            <i class="fas fa-tachometer-alt text-primary-300 group-hover:text-secondary-300 transition-colors"></i>
            <span>Dashboard</span>
        </a> 

        <!-- Gestion de usuarios -->
        {% if request.user.role == 'VET' or request.user.role == 'ADMIN' %}
        <a href="{% url 'auth:users_list' %}" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-white hover:bg-primary-700 hover:text-secondary-300 transition-all duration-200 group">
            <i class="fas fa-user text-primary-300 group-hover:text-secondary-300 transition-colors"></i>
            <span>Gestion de usuarios</span>
        </a> 
        {% endif %}
        
        <!-- Registrar mascota -->
        {% if request.user.role == 'OWNER' or request.user.role == 'ADMIN' %}
        <a href="{% url 'mascota:main_register' %}" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-white hover:bg-primary-700 hover:text-secondary-300 transition-all duration-200 group">
            <i class="fas fa-dog text-primary-300 group-hover:text-secondary-300 transition-colors"></i>
            <span>Mi Mascota</span>
        </a>
        {% endif %}

        <!-- Mi mascota -->
        {% if request.user.role == 'OWNER' or request.user.role == 'ADMIN' or request.user.role == 'VET' %}
        <a href="{% url 'mascota:scanner' %}" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-white hover:bg-primary-700 hover:text-secondary-300 transition-all duration-200 group">
            <i class="fas fa-qrcode text-primary-300 group-hover:text-secondary-300 transition-colors"></i>
            <span>Escaner</span>
        </a>
        {% endif %}

    </div>
  </nav>
</aside>

<!-- Backdrop para overlay -->
<div id="sidebar-backdrop" class="fixed inset-0 bg-black/50 z-30 hidden backdrop-blur-sm"></div>