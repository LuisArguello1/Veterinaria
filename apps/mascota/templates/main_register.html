{% extends 'layouts/base.html' %}
{% load static %}

{% block content %}
<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <!-- Cabecera profesional y minimalista -->
    <div class="bg-white mb-6 shadow-sm border border-gray-200 rounded-lg overflow-hidden">
        <div class="flex flex-col sm:flex-row items-center p-4 sm:p-0">
            <div class="mr-0 sm:mr-6 bg-black p-2 mb-4 sm:mb-0 self-center sm:self-start">
                <img src="{% static 'img/logo_secundario2.png' %}" alt="Logo Secundario Veterinaria" class="h-16 sm:h-20 w-auto" oncontextmenu="return false;">
            </div>
            <div class="text-center sm:text-left py-2 sm:py-4">
                <h1 class="text-gray-800 text-xl sm:text-2xl font-semibold mb-1">Registro de Mascotas</h1>
                <p class="text-gray-600 text-sm sm:text-base">Información completa para el cuidado óptimo</p>
            </div>
        </div>
    </div>

    <!-- Tabs para cambiar entre registro normal y datos biométricos -->
    <div class="bg-white rounded-lg shadow mb-6">
        <div class="border-b border-gray-200 overflow-x-auto">
            <div class="flex px-4 sm:px-6 pt-4 pb-0 min-w-max">
                <button type="button" class="tab-btn active py-3 px-3 border-b-2 border-primary-500 font-medium text-primary-600 flex items-center mr-3 sm:mr-6" data-target="mi-mascota">
                    <i class="fas fa-paw mr-1 sm:mr-2"></i>
                    <span class="text-sm sm:text-base">Mi Mascota</span>
                </button>
                <button type="button" class="tab-btn py-3 px-3 border-b-2 border-transparent font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 flex items-center mr-3 sm:mr-6" data-target="registro-normal">
                    <i class="fas fa-clipboard-list mr-1 sm:mr-2"></i>
                    <span class="text-sm sm:text-base">Registro Normal</span>
                </button>
                <button type="button" class="tab-btn py-3 px-3 border-b-2 border-transparent font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 flex items-center" data-target="datos-biometricos">
                    <i class="fas fa-fingerprint mr-1 sm:mr-2"></i>
                    <span class="text-sm sm:text-base">Datos Biométricos</span>
                </button>
            </div>
        </div>

    <!-- Contenido de las pestañas -->
    <div class="tab-content-container p-3 sm:p-6">
        <!-- Pestaña 1: Mi Mascota -->
        <div id="mi-mascota" class="tab-content">
            <div class="p-4 sm:p-6 bg-white border border-primary-100 rounded-lg shadow-sm">
                <div class="mb-4 flex flex-wrap items-center">
                    <div class="h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center mr-3">
                        <i class="fas fa-paw text-primary-600"></i>
                    </div>
                    <h2 class="text-lg sm:text-xl font-semibold text-gray-800">Detalles de su Mascota</h2>
                </div>
                {% include 'mi_mascota/detail.html' %}
            </div>
        </div>
        
        <!-- Pestaña 2: Registro normal -->
        <div id="registro-normal" class="tab-content hidden">
            <div class="p-4 sm:p-6 bg-white border border-primary-100 rounded-lg shadow-sm">
                <div class="mb-4 flex flex-wrap items-center">
                    <div class="h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center mr-3">
                        <i class="fas fa-clipboard-list text-primary-600"></i>
                    </div>
                    <h2 class="text-lg sm:text-xl font-semibold text-gray-800">Formulario de Registro</h2>
                </div>
                {% include 'mascota_registro/form.html' %}
            </div>
        </div>
        
        <!-- Pestaña 3: Datos biométricos -->
        <div id="datos-biometricos" class="tab-content hidden">
            <div class="p-4 sm:p-6 bg-white border border-primary-100 rounded-lg shadow-sm">
                <div class="mb-4 flex flex-wrap items-center">
                    <div class="h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center mr-3">
                        <i class="fas fa-fingerprint text-primary-600"></i>
                    </div>
                    <h2 class="text-lg sm:text-xl font-semibold text-gray-800">Captura de Datos Biométricos</h2>
                </div>
                {% include 'biometria_registro/biometria.html' %}
            </div>
        </div>
    </div>
</div>

<!-- Tarjeta informativa -->
<div class="mt-6 bg-white p-4 sm:p-5 rounded-lg shadow border-l-4 border-secondary-500">
    <div class="flex flex-col sm:flex-row sm:items-center">
        <div class="flex-shrink-0 mr-0 sm:mr-3 mb-3 sm:mb-0 flex justify-center">
            <i class="fas fa-info-circle text-2xl text-secondary-500"></i>
        </div>
        <div>
            <p class="text-sm text-center sm:text-left text-gray-600">
                Complete la información de su mascota para garantizar una atención veterinaria personalizada y de calidad. La información biométrica nos ayuda a identificar a su mascota en caso de extravío.
            </p>
        </div>
    </div>
</div>
</div> <!-- Cierre del contenedor mx-auto max-w-7xl -->

{% endblock %}

{% block extra_scripts %}
<script src="{% static 'js/mascota.js' %}"></script>
{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/mascota.css' %}">
<style>
    /* Estilos para mantener consistencia entre pestañas */
    .bg-primary-50 {
        background-color: #f0f9f6; /* color primary-50 */
    }
    
    /* Asegurar que todos los contenedores tengan la misma altura mínima */
    .content-max-width {
        min-height: 150px;
    }
    
    /* Estilos para los elementos informativos */
    .alert-info {
        background-color: #daf2ff; /* color secondary-100 */
        color: #1e5295; /* color secondary-900 */
        border-color: #56c4ff; /* color secondary-400 */
        border-radius: 0.375rem;
        padding: 0.75rem 1rem;
    }
    
    /* Consistencia en los contenedores de pestañas */
    .tab-content .bg-white {
        transition: box-shadow 0.3s;
    }
    
    /* Estilos responsivos adicionales */
    @media (max-width: 640px) {
        .tab-btn {
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }
        
        .tab-content-container {
            padding: 0.75rem;
        }
    }
</style>
{% endblock %}